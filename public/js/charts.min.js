!function(t,r){r.defaults.color="#1d2327",r.defaults.font.family='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif',t.charts={config(t,s,e){return{data:{labels:t.map(t=>t[s])},options:{plugins:{title:{align:"start",display:!!e,font:{size:14,weight:600},text:e}},onClick:(t,e,a)=>{var i;e.length&&(i=a.data["filterBy"],"function"!=typeof i||"object"!=typeof(a=a.data.datasets[0].data[e[0].index])||null===a||["device_pixel_ratio","language","ad_blocker"].includes(s)||((e=new URLSearchParams(window.location.search)).set("page"===s?"event:page":s,i(a)),window.location.search=e.toString()))}}}},render(t,e){return new r(document.getElementById("innstats-widget-"+t),e)},horizontalBar(t,e,a){a=this.config(t,e,a);return this.render(e,{...a,type:"bar",data:{...a.data,datasets:[{data:t.map(t=>({x:t.visitors,y:t[e]})),barPercentage:1,categoryPercentage:1,minBarLength:4}],filterBy:({y:t})=>t},options:{...a.options,aspectRatio:1.25,indexAxis:"y",plugins:{...a.options.plugins,legend:{display:!1}},scales:{x:{beginAtZero:!0,title:{display:!0,text:"Visitors"}},y:{grid:{display:!1},ticks:{mirror:!0}}}}})},bar(t,e,a,i=null){a=this.config(t,e,a);return this.render(e,{...a,type:"bar",data:{...a.data,datasets:[{data:t.map(t=>({x:t[e],y:t.visitors})),minBarLength:4,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(201, 203, 207, 0.2)"],borderColor:["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],borderWidth:1}],filterBy:({x:t})=>t},options:{...a.options,aspectRatio:1,plugins:{...a.options.plugins,legend:{display:!1}},scales:{x:{beginAtZero:!0,grid:{display:!1},title:{display:!!i,text:i}},y:{title:{display:!0,text:"Visitors"}}}}})},pie(t,e,a){a=this.config(t,e,a);return this.render(e,{...a,type:"pie",data:{...a.data,datasets:[{data:t.map(t=>({key:t[e],value:t.visitors}))}],filterBy:({key:t})=>t}})},choropleth(t,e,a){a=this.config(t,e,a);return this.render(e,{...a,type:"choropleth",data:{...a.data,datasets:[{data:t.map(t=>({feature:t.feature,value:t.visitors,code:t.code})),outline:t.map(t=>t.feature)}],filterBy:({code:t})=>t},options:{...a.options,aspectRatio:1.25,plugins:{...a.options.plugins,legend:{display:!1},tooltip:{callbacks:{label(t){let e=t.raw.feature.properties.name||"";return e&&(e+=": "),null===t.parsed.r||Number.isNaN(t.parsed.r)?e+="No data":e+=t.parsed.r,e}}}},scales:{color:{axis:"xy",interpolate:"oranges",legend:{position:"bottom-left"}},projection:{axis:"x",projection:"mercator"}}}})},line(t,e,a,i){a=this.config(t,e,a);return this.render(e,{...a,type:"line",data:{...a.data,datasets:[{borderColor:"rgb(255, 159, 64)",data:t.map(({y:t,value:e},a)=>({x:a,y:t,value:e})),fill:!0}]},options:{...a.options,plugins:{...a.options.plugins,legend:{display:!1},tooltip:{callbacks:{label(t){let e=t.dataset.label||"";return e&&(e+=": "),null!==t.raw.value?e+=t.raw.value:null!==t.parsed.y?e+=t.parsed.y:e+="No data",e}}}},scales:{y:{beginAtZero:!0,ticks:{callback(t){return i(t)},stepSize:1}}}}})},lines(t,e,a,i,s={}){a=this.config(t,e,a);return this.render(e,{...a,type:"line",data:{...a.data,datasets:i.map(e=>({label:s[e],data:t.map(t=>t[e]),fill:!0}))},options:{...a.options,plugins:{...a.options.plugins,legend:{labels:{boxWidth:r.defaults.font.size,boxHeight:r.defaults.font.size,font:{weight:600}}}},scales:{y:{beginAtZero:!0}}}})}}}(window.innstats,window.Chart);