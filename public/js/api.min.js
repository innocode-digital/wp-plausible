!function(t,e){t.api={request(t,i={}){return this.endpoint=t,this.query=i,this.period="30d",this.startDate=null,this.endDate=null,this.metrics=["visitors"],this.compare=null,this.filters=[],this.limit=null,this.page=null,this},byTimePeriod(t,i=null,e=null){if("custom"===(this.period=t)){if(null===i||null===e)throw new Error("Start and end dates are required for custom period");this.startDate=i,this.endDate=e}return this},useMetrics(t){return this.metrics=t,this},addMetric(t){return this.metrics.push(t),this},withPreviousPeriod(){return this.compare="previous_period",this},useFilters(t){return this.filters=t,this},filterBy(t,i,e="=="){return this.filters.push(""+t+e+i),this},filterByEvent(t,i,e="=="){return this.filterBy("event:"+t,i,e)},filterByVisit(t,i,e="=="){return this.filterBy("visit:"+t,i,e)},limitResults(t=10){return this.limit=t,this},paginate(t){return this.page=t,this},send(){let t="/wpd/v1/statistics/"+this.endpoint;var i=new URLSearchParams({...this.query,period:this.period,..."custom"===this.period&&{date:this.startDate+","+this.endDate},metrics:this.metrics.join(","),...this.compare&&{compare:this.compare},...this.filters.length&&{filters:this.filters.join(";")},...this.limit&&{limit:this.limit},...this.page&&{page:this.page}}).toString();return i&&(t+="?"+i),e.apiRequest({path:t})},realtimeVisitors(t){return this.request("realtime_visitors",t)},aggregate(t){return this.request("aggregate",t)},timeseries(t){return this.request("timeseries",t)},breakdown(t,i){return this.request("breakdown",{property:t,...i})},breakdownByEvent(t,i){return this.breakdown("event:"+t,i)},breakdownByVisit(t,i){return this.breakdown("visit:"+t,i)},breakdownByProp(t,i){return this.breakdown("event:props:"+t,i)}}}(window.innstats,window.wp);